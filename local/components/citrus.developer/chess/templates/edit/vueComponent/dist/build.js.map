{"version":3,"sources":["webpack:///build.js","webpack:///webpack/bootstrap dbec1e6ca3ab2ce09eac","webpack:///./src/chess/script.js","webpack:///./src/main.js","webpack:///./src/chess/chess.vue","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///./src/chess/chess.vue?ad30"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_typeof","Symbol","iterator","obj","constructor","props","data","sections","isShowHover","hoveredFlat","isMobile","BX","browser","IsMobile","swiper","forms","flat","section","floor","values","defaultValues","active","deleteData","flats","ready","computed","maxSectionFloor","arFloorCount","this","reduce","arPreviousValue","floorsCount","push","length","Math","max","apply","arSectionFloors","floors","postData","self","changedData","flatFields","forEach","changedSection","cloneData","changedFlats","filter","id","changed","clearChangedFlats","previewValue","newFlat","fieldCode","JSON","stringify","postDeleteData","methods","skipProperties","Array","isArray","cloneArray","dataArrayItem","dataArrayIndex","indexOf","toString","dataObjectItemKey","cloneObject","addFlat","vueForm","rooms","layout","properties","items","layoutIt","plan","sort","updateFlatsSortIndex","updateSlider","$","magnificPopup","close","openAddFlatForm","sectionIndex","floorIndex","open","src","$refs","mainClass","alignTop","showCloseBtn","closeOnContentClick","closePopup","addSection","newSection","nextSectionCount","lang","CHESS_SECTION_TITLE","slideTo","deleteSection","deletedFlatsId","arDelete","concat","$delete","cloneFloor","getFlats","map","editId","cloneSection","resetChess","fn","$nextTick","update","floorFlats","getSortedFlats","index","newSort","a","b","sortResult","deleteFloorFlats","deleteFlat","flatIndex","changeSortFlat","changePosition","created","mounted","visibleInterval","setInterval","$el","offsetParent","clearInterval","Swiper","watchOverflow","simulateTouch","freeMode","navigation","nextEl","prevEl","slidesPerView","spaceBetween","breakpoints","767","1023","on","touchStart","value","__WEBPACK_IMPORTED_MODULE_0__chess_chess__","Vue","component","__WEBPACK_IMPORTED_MODULE_0__babel_loader_script_js__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1b2cd806_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_chess_vue__","normalizeComponent","Component","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","type","default","options","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","existing","beforeCreate","_injectStyles","h","_vm","_h","$createElement","_c","_self","attrs","staticClass","class","_ready","title","_l","_v","_s","CITRUS_DEVELOPER_CHESS_FLOOR","isEdit","href","CHESS_CLONE_SECTION_LINK_TITLE","click","$event","viewBox","xlink:href","CHESS_CLONE_SECTION_DELETE_TITLE","_e","_empty","_edit","CHESS_CLONE_FLOOR_LINK","CHESS_CLONE_FLOOR_DELETE","ref","refInFor","_disable","_new","_first","_last","CHESS_K","CHESS_DELETE_FLAT_TITLE","preventDefault","CHESS_ADD_SECTION_LINK","_m","directives","rawName","expression","domProps","input","target","composing","CHESS_DATA_FORM_CANCEL_BUTTN","CHESS_ADD_FLAT_FORM_TITLE","data-dismiss","action","field","data-type","data-code","fieldItem","fieldIndex","checked","_q","change","$set","style","background-image","image","_i","$$a","$$el","$$c","$$i","slice","CHESS_FORM_BOOL_LABEL","CHESS_FORM_CANCEL_BUTTON","CHESS_FORM_SUBMIT_BUTTON","esExports"],"mappings":"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","file":"build.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tname: 'vue-chess',\n\tprops: ['items', 'isEdit', 'properties', 'lang'],\n\tdata: function data() {\n\t\treturn {\n\t\t\tsections: {},\n\t\t\tisShowHover: false,\n\t\t\thoveredFlat: {},\n\t\t\tisMobile: BX.browser.IsMobile(),\n\t\t\tswiper: {},\n\t\t\tforms: {\n\t\t\t\t'flat': {\n\t\t\t\t\t'section': -1,\n\t\t\t\t\t'floor': -1,\n\t\t\t\t\t'values': {},\n\t\t\t\t\t'defaultValues': {\n\t\t\t\t\t\t\"active\": true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeleteData: {\n\t\t\t\t'sections': [],\n\t\t\t\t'flats': []\n\t\t\t},\n\t\t\tready: false\n\t\t};\n\t},\n\tcomputed: {\n\t\tmaxSectionFloor: function maxSectionFloor() {\n\t\t\tvar arFloorCount = this.sections.reduce(function (arPreviousValue, section) {\n\t\t\t\tif (section.floorsCount) arPreviousValue.push(section.floorsCount);\n\t\t\t\treturn arPreviousValue;\n\t\t\t}, []);\n\t\t\treturn !arFloorCount.length ? 1 : Math.max.apply(null, arFloorCount);\n\t\t},\n\t\tarSectionFloors: function arSectionFloors() {\n\t\t\tvar floors = [];\n\t\t\tfor (var i = this.maxSectionFloor; i; i--) {\n\t\t\t\tfloors.push(i);\n\t\t\t}\n\t\t\treturn floors;\n\t\t},\n\t\tpostData: function postData() {\n\t\t\tvar self = this,\n\t\t\t    changedData = [],\n\t\t\t    flatFields = ['id', 'floor', 'active', 'plan', 'rooms', 'sort'];\n\t\t\tthis.sections.forEach(function (section) {\n\t\t\t\tvar changedSection = self.cloneData(section);\n\t\t\t\tvar changedFlats = changedSection.flats.filter(function (flat) {\n\t\t\t\t\treturn !flat.id || flat.changed;\n\t\t\t\t});\n\n\t\t\t\tvar clearChangedFlats = changedFlats.reduce(function (previewValue, flat) {\n\t\t\t\t\tvar newFlat = {};\n\t\t\t\t\tflatFields.forEach(function (fieldCode) {\n\t\t\t\t\t\treturn newFlat[fieldCode] = flat[fieldCode];\n\t\t\t\t\t});\n\t\t\t\t\tpreviewValue.push(newFlat);\n\t\t\t\t\treturn previewValue;\n\t\t\t\t}, []);\n\n\t\t\t\tif (clearChangedFlats.length || section.changed || !changedSection.id) {\n\t\t\t\t\tchangedSection.flats = clearChangedFlats;\n\t\t\t\t\tchangedData.push(changedSection);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn JSON.stringify(changedData);\n\t\t},\n\t\tpostDeleteData: function postDeleteData() {\n\t\t\treturn JSON.stringify(this.deleteData);\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\r\n   * clone and delete reactive\r\n   */\n\t\tcloneData: function cloneData(data) {\n\t\t\tvar self = this;\n\t\t\tvar skipProperties = ['__ob__', 'reactiveGetter', 'reactiveSetter'];\n\t\t\t//array\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tvar cloneArray = [];\n\t\t\t\tdata.forEach(function (dataArrayItem, dataArrayIndex) {\n\t\t\t\t\tif (skipProperties.indexOf(dataArrayIndex) > -1) return;\n\t\t\t\t\tcloneArray[dataArrayIndex] = self.cloneData(dataArrayItem);\n\t\t\t\t});\n\t\t\t\treturn cloneArray;\n\t\t\t}\n\t\t\t//object\n\t\t\tif ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object' && data.toString && data.toString() == \"[object Object]\") {\n\t\t\t\tvar cloneObject = {};\n\t\t\t\tvar dataObjectItemKey;\n\t\t\t\tfor (dataObjectItemKey in data) {\n\t\t\t\t\tif (skipProperties.indexOf(dataObjectItemKey) > -1) continue;\n\t\t\t\t\tcloneObject[dataObjectItemKey] = this.cloneData(data[dataObjectItemKey]);\n\t\t\t\t}\n\t\t\t\treturn cloneObject;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\taddFlat: function addFlat() {\n\t\t\tvar vueForm = this.forms.flat,\n\t\t\t    values = vueForm.values;\n\n\t\t\tvar flat = {\n\t\t\t\tid: 0,\n\t\t\t\trooms: 1,\n\t\t\t\tname: 'New flat',\n\t\t\t\tactive: !!values.active,\n\t\t\t\tfloor: vueForm.floor || 1\n\t\t\t};\n\n\t\t\tif (values.layout) {\n\t\t\t\tvar layout = {};\n\t\t\t\tthis.properties.layout.items.forEach(function (layoutIt) {\n\t\t\t\t\tif (+layoutIt.id === +values.layout) layout = layoutIt;\n\t\t\t\t});\n\t\t\t\tif (layout.rooms) flat.rooms = layout.rooms;\n\t\t\t\tif (layout.id) flat.plan = +layout.id;\n\t\t\t}\n\n\t\t\tif (!this.sections[vueForm.section]['floorsCount']) this.sections[vueForm.section]['floorsCount'] = 1;\n\n\t\t\tif (!this.sections[vueForm.section]['flats']) this.sections[vueForm.section]['flats'] = [];\n\n\t\t\t// ������� ������� ��� ���������� � ���������\n\t\t\tflat.sort = this.updateFlatsSortIndex(vueForm.section, flat.floor);\n\n\t\t\t// ��������� ������ ���������� ������� �� ���������� ������� �� �����\n\n\t\t\tthis.sections[vueForm.section]['flats'].push(flat);\n\t\t\tthis.updateSlider();\n\n\t\t\tthis.forms.flat.values = this.cloneData(this.forms.flat.defaultValues);\n\t\t\t$.magnificPopup.close();\n\t\t},\n\t\topenAddFlatForm: function openAddFlatForm(sectionIndex, floorIndex) {\n\t\t\tthis.forms.flat.section = sectionIndex;\n\t\t\tthis.forms.flat.floor = floorIndex;\n\t\t\t$.magnificPopup.open({\n\t\t\t\titems: {\n\t\t\t\t\tsrc: this.$refs['flat-popup']\n\t\t\t\t},\n\t\t\t\tmainClass: 'full-screen-map mfp-with-zoom',\n\t\t\t\talignTop: false,\n\t\t\t\tshowCloseBtn: false,\n\t\t\t\tcloseOnContentClick: false\n\t\t\t});\n\t\t},\n\t\tclosePopup: function closePopup() {\n\t\t\t$.magnificPopup.close();\n\t\t\tthis.forms.flat.values = {};\n\t\t},\n\t\taddSection: function addSection(newSection) {\n\t\t\tvar newSection = newSection || {\n\t\t\t\tfloorsCount: 1,\n\t\t\t\tflats: []\n\t\t\t},\n\t\t\t    nextSectionCount = this.sections.length + 1;\n\n\t\t\tnewSection.name = this.lang.CHESS_SECTION_TITLE + ' ' + nextSectionCount;\n\t\t\tnewSection.id = 0;\n\n\t\t\tthis.sections.push(newSection);\n\t\t\tthis.updateSlider(function () {\n\t\t\t\tthis.swiper.slideTo(nextSectionCount);\n\t\t\t});\n\t\t},\n\t\tdeleteSection: function deleteSection(sectionIndex) {\n\t\t\tvar section = this.sections[sectionIndex];\n\t\t\tvar deletedFlatsId = section['flats'].reduce(function (arDelete, flat) {\n\t\t\t\tif (flat.id) arDelete.push(flat.id);\n\t\t\t\treturn arDelete;\n\t\t\t}, []);\n\t\t\tthis.deleteData.flats = this.deleteData.flats.concat(deletedFlatsId);\n\n\t\t\tif (section.id) this.deleteData.sections.push(section.id);\n\n\t\t\tthis.$delete(this.sections, sectionIndex);\n\t\t\tthis.updateSlider();\n\t\t},\n\t\tcloneFloor: function cloneFloor(sectionIndex, floorIndex) {\n\t\t\tvar section = this.sections[sectionIndex],\n\t\t\t    flats = this.cloneData(this.getFlats(sectionIndex, floorIndex));\n\n\t\t\tsection.floorsCount++;\n\n\t\t\tflats = flats.map(function (flat) {\n\t\t\t\tflat.id = 0;\n\t\t\t\tflat.editId = 0;\n\t\t\t\tflat.floor = section.floorsCount;\n\t\t\t\treturn flat;\n\t\t\t});\n\t\t\tsection.flats = section.flats.concat(flats);\n\t\t},\n\t\tcloneSection: function cloneSection(sectionIndex) {\n\t\t\tvar newSection = this.cloneData(this.sections[sectionIndex]);\n\t\t\tnewSection.flats = newSection.flats.map(function (flat) {\n\t\t\t\tflat.id = 0;\n\t\t\t\tflat.editId = 0;\n\t\t\t\treturn flat;\n\t\t\t});\n\t\t\tthis.addSection(newSection);\n\t\t},\n\t\tresetChess: function resetChess() {\n\t\t\tthis.sections = this.cloneData(this.items);\n\t\t\tthis.deleteData.sections = [];\n\t\t\tthis.deleteData.flats = [];\n\t\t\tthis.updateSlider();\n\t\t},\n\t\tupdateSlider: function updateSlider(fn) {\n\t\t\tvar fn = fn || function () {};\n\t\t\tthis.$nextTick(function () {\n\t\t\t\tthis.swiper.update();\n\t\t\t\tfn.call(this);\n\t\t\t});\n\t\t},\n\n\t\t/**\r\n   * ��� ������� ��������� �� ����� ��������\r\n   * ���������� ���������� � ������� ������ �� ������� � �������\r\n   * �� ������� index*10\r\n   * @return (int) ���������� ���������� ��� ������ ��������\r\n  \t */\n\t\tupdateFlatsSortIndex: function updateFlatsSortIndex(sectionIndex, floorIndex) {\n\t\t\tvar floorFlats = this.getSortedFlats(sectionIndex, floorIndex);\n\t\t\tfloorFlats.forEach(function (flat, index) {\n\t\t\t\tvar newSort = (index + 1) * 10;\n\t\t\t\tif (flat.sort !== newSort) flat.changed = true;\n\t\t\t\tflat.sort = newSort;\n\t\t\t});\n\t\t\treturn (floorFlats.length + 1) * 10;\n\t\t},\n\n\t\tgetSortedFlats: function getSortedFlats(sectionIndex, floorIndex) {\n\t\t\treturn this.getFlats(sectionIndex, floorIndex).sort(function (a, b) {\n\t\t\t\tvar sortResult = 0;\n\t\t\t\tif (a.sort !== b.sort) {\n\t\t\t\t\tsortResult = a.sort > b.sort ? 1 : -1;\n\t\t\t\t} else if (a.rooms !== b.rooms) {\n\t\t\t\t\tsortResult = a.sort > b.sort ? 1 : -1;\n\t\t\t\t}\n\t\t\t\treturn sortResult;\n\t\t\t});\n\t\t},\n\t\tgetFlats: function getFlats(sectionIndex, floorIndex) {\n\t\t\treturn this.sections[sectionIndex]['flats'].filter(function (flat) {\n\t\t\t\treturn +flat.floor === +floorIndex;\n\t\t\t});\n\t\t},\n\t\tdeleteFloorFlats: function deleteFloorFlats(sectionIndex, floorIndex) {\n\t\t\tvar section = this.sections[sectionIndex];\n\t\t\tsection.changed = true;\n\t\t\tvar deletedFlatsId = section['flats'].reduce(function (arDelete, flat) {\n\t\t\t\tif (flat.floor === floorIndex && flat.id) arDelete.push(flat.id);\n\t\t\t\treturn arDelete;\n\t\t\t}, []);\n\t\t\tthis.deleteData.flats = this.deleteData.flats.concat(deletedFlatsId);\n\n\t\t\tvar flats = section['flats'].filter(function (flat) {\n\t\t\t\treturn flat.floor !== floorIndex;\n\t\t\t});\n\t\t\tflats = flats.map(function (flat) {\n\t\t\t\tif (flat.floor > floorIndex) {\n\t\t\t\t\tflat.changed = true;\n\t\t\t\t\tflat.floor--;\n\t\t\t\t}\n\t\t\t\treturn flat;\n\t\t\t});\n\t\t\tsection['flats'] = flats;\n\t\t\tsection.floorsCount--;\n\t\t},\n\t\tdeleteFlat: function deleteFlat(sectionIndex, flat) {\n\t\t\tif (flat.id) this.deleteData.flats.push(flat.id);\n\t\t\tvar flatIndex = this.sections[sectionIndex]['flats'].indexOf(flat);\n\t\t\tthis.$delete(this.sections[sectionIndex]['flats'], flatIndex);\n\t\t},\n\t\tchangeSortFlat: function changeSortFlat(sectionIndex, floorIndex, flatIndex, changePosition) {\n\t\t\tvar floorFlats = this.getSortedFlats(sectionIndex, floorIndex);\n\n\t\t\tthis.updateFlatsSortIndex(sectionIndex, floorIndex);\n\n\t\t\tvar flat = floorFlats[flatIndex];\n\n\t\t\tflat.changed = true;\n\t\t\tif (changePosition > 0) {\n\t\t\t\tflat.sort += 10;\n\t\t\t\tfloorFlats[flatIndex + 1]['sort'] -= 10;\n\t\t\t\tfloorFlats[flatIndex + 1]['changed'] = true;\n\t\t\t} else {\n\t\t\t\tflat.sort -= 10;\n\t\t\t\tfloorFlats[flatIndex - 1]['sort'] += 10;\n\t\t\t\tfloorFlats[flatIndex - 1]['changed'] = true;\n\t\t\t}\n\t\t}\n\t},\n\tcreated: function created() {\n\t\tthis.sections = this.cloneData(this.items);\n\t\tif (this.properties.layout && this.properties.layout.items && this.properties.layout.items[0]) this.forms.flat.defaultValues.layout = this.properties.layout.items[0]['id'];\n\t},\n\tmounted: function mounted() {\n\t\tvar self = this;\n\n\t\tthis.forms.flat.values = this.cloneData(this.forms.flat.defaultValues);\n\n\t\tvar visibleInterval = setInterval(function () {\n\t\t\tif (self.$el.offsetParent !== null) {\n\t\t\t\tself.swiper.update();\n\t\t\t\tself.ready = true;\n\t\t\t\tclearInterval(visibleInterval);\n\t\t\t}\n\t\t}, 100);\n\n\t\t// http://idangero.us/swiper/api/\n\t\tthis.swiper = new Swiper('.chess-slider .swiper-container', {\n\t\t\twatchOverflow: true,\n\n\t\t\tsimulateTouch: true,\n\n\t\t\tfreeMode: true,\n\n\t\t\t// Navigation arrows\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.chess-slider .swiper-button-next',\n\t\t\t\tprevEl: '.chess-slider .swiper-button-prev'\n\t\t\t},\n\n\t\t\tslidesPerView: 'auto',\n\t\t\tspaceBetween: 40,\n\t\t\tbreakpoints: {\n\t\t\t\t767: {\n\t\t\t\t\tspaceBetween: 20\n\t\t\t\t},\n\t\t\t\t1023: {\n\t\t\t\t\tspaceBetween: 30\n\t\t\t\t}\n\t\t\t},\n\t\t\ton: {\n\t\t\t\t'touchStart': function touchStart() {}\n\t\t\t}\n\t\t});\n\t}\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chess_chess__ = __webpack_require__(2);\n\n\nVue.component('vue-chess', __WEBPACK_IMPORTED_MODULE_0__chess_chess__[\"a\" /* default */]);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_script_js__ = __webpack_require__(0);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1b2cd806_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_chess_vue__ = __webpack_require__(4);\nvar normalizeComponent = __webpack_require__(3)\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_script_js__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1b2cd806_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_chess_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"chess\"}},[_c('div',{staticClass:\"p__swiper chess-slider _nav-offset _pagination-top _pagination-hide-nav\",class:{'_ready': _vm.ready},attrs:{\"title\":\" \"}},[_c('div',{staticClass:\"chess-slider__inner\"},[_c('div',{staticClass:\"floors-list _left\"},_vm._l((_vm.arSectionFloors),function(floorIndex){return _c('div',{staticClass:\"floors-list__floor\"},[_c('span',{staticClass:\"foors-list__floor-number\"},[_vm._v(_vm._s(floorIndex))]),_vm._v(\" \"),_c('span',{staticClass:\"foors-list__floor-text\"},[_vm._v(_vm._s(_vm.lang.CITRUS_DEVELOPER_CHESS_FLOOR))])])})),_vm._v(\" \"),_c('div',{staticClass:\"swiper-container\"},[_c('div',{staticClass:\"swiper-wrapper\"},[_vm._l((_vm.sections),function(section,sectionIndex){return (_vm.isEdit || section.flats.length)?_c('div',{staticClass:\"swiper-slide\"},[_c('div',{staticClass:\"chess-section\",attrs:{\"id\":section.editId}},[_c('div',{staticClass:\"chess-section__name\"},[_c('div',{staticClass:\"chess-section__name-text\"},[_vm._v(_vm._s(section.name))]),_vm._v(\" \"),(_vm.isEdit)?_c('div',{staticClass:\"chess-section__edit-links\"},[_c('a',{staticClass:\"chess__section-clone-link\",attrs:{\"href\":\"javascript:void(0);\",\"title\":_vm.lang.CHESS_CLONE_SECTION_LINK_TITLE},on:{\"click\":function($event){_vm.cloneSection(sectionIndex)}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 511.627 511.627\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-copy\"}})])]),_vm._v(\" \"),_c('a',{staticClass:\"chess__section-clone-link\",attrs:{\"href\":\"javascript:void(0);\",\"title\":_vm.lang.CHESS_CLONE_SECTION_DELETE_TITLE},on:{\"click\":function($event){_vm.deleteSection(sectionIndex)}}},[_c('svg',{staticClass:\"svg-icon _trash\",attrs:{\"viewBox\":\"0 0 774.266 774.266\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-trash\"}})])])]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.arSectionFloors),function(floorIndex){return _c('div',{staticClass:\"chess-floor\",class:{\n                                    '_empty': floorIndex > section.floorsCount,\n                                    '_edit': _vm.isEdit,\n                                 }},[(section.floorsCount)?[(_vm.isEdit)?_c('div',{staticClass:\"chess__floor-edit-area\"},[_c('a',{staticClass:\"chess__floor-edit-link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.cloneFloor(sectionIndex, floorIndex)}}},[_c('svg',{staticClass:\"svg-icon chess__floor-edit-link__icon\",attrs:{\"viewBox\":\"0 0 511.627 511.627\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-copy\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"chess__floor-edit-link__title\"},[_vm._v(_vm._s(_vm.lang.CHESS_CLONE_FLOOR_LINK))])]),_vm._v(\" \"),_c('a',{staticClass:\"chess__floor-edit-link _delete\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.deleteFloorFlats(sectionIndex, floorIndex)}}},[_c('svg',{staticClass:\"svg-icon chess__floor-edit-link__icon icon-trash\",attrs:{\"viewBox\":\"0 0 774.266 774.266\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-trash\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"chess__floor-edit-link__title\"},[_vm._v(_vm._s(_vm.lang.CHESS_CLONE_FLOOR_DELETE))])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.getSortedFlats(sectionIndex, floorIndex)),function(flat,flatIndex){return _c('div',{ref:\"flats\",refInFor:true,class:['chess-flat',\n                                            { '_disable': !flat.active },\n                                            { '_new': !flat.id },\n                                            { '_first': !flatIndex },\n                                            { '_last': _vm.getSortedFlats(sectionIndex, floorIndex).length === flatIndex+1 }\n                                        ],attrs:{\"id\":flat.editId}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(flat.rooms)),((+flat.rooms && flat.rooms == +flat.rooms))?[_vm._v(_vm._s(_vm.lang.CHESS_K))]:_vm._e(),_vm._v(\" \"),(flatIndex)?_c('a',{staticClass:\"chess-flat__sort-left\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.changeSortFlat(sectionIndex, floorIndex, flatIndex, -1)}}}):_vm._e(),_vm._v(\" \"),(flatIndex+1 < _vm.getSortedFlats(sectionIndex, floorIndex).length)?_c('a',{staticClass:\"chess-flat__sort-right\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.changeSortFlat(sectionIndex, floorIndex, flatIndex, 1)}}}):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"chess-flat__delete-flat\",attrs:{\"title\":_vm.lang.CHESS_DELETE_FLAT_TITLE,\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){$event.preventDefault();_vm.deleteFlat(sectionIndex, flat)}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 357 357\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-close\"}})])])],2)})]:_vm._e(),_vm._v(\" \"),(_vm.isEdit && (floorIndex <= section.floorsCount ||\n                                     (!section.floorsCount && floorIndex === 1)))?_c('div',{staticClass:\"chess-flat _add-flat-block\"},[_c('a',{staticClass:\"add-flat-link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.openAddFlatForm(sectionIndex, floorIndex);}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-plus\"}})])])]):_vm._e()],2)})],2)]):_vm._e()}),_vm._v(\" \"),(_vm.isEdit)?_c('a',{staticClass:\"swiper-slide add-section-slide\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){$event.preventDefault();_vm.addSection()}}},[_c('span',{staticClass:\"add-section-link__icon\"},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-plus\"}})])]),_vm._v(\" \"),_c('span',{staticClass:\"add-section-link__text\"},[_vm._v(_vm._s(_vm.lang.CHESS_ADD_SECTION_LINK))])]):_vm._e()],2)]),_vm._v(\" \"),_c('div',{staticClass:\"floors-list _right\"},_vm._l((_vm.arSectionFloors),function(floorIndex){return _c('div',{staticClass:\"floors-list__floor\"},[_c('span',{staticClass:\"foors-list__floor-number\"},[_vm._v(_vm._s(floorIndex))]),_vm._v(\" \"),_c('span',{staticClass:\"foors-list__floor-text\"},[_vm._v(_vm._s(_vm.lang.CITRUS_DEVELOPER_CHESS_FLOOR))])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"swiper-pagination swiper-pagination--lines\"}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),(_vm.isEdit)?_c('div',{staticClass:\"chess-data-form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postData),expression:\"postData\"}],attrs:{\"name\":\"chess-edit\",\"type\":\"hidden\"},domProps:{\"value\":(_vm.postData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.postData=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postDeleteData),expression:\"postDeleteData\"}],attrs:{\"name\":\"chess-delete\",\"type\":\"hidden\"},domProps:{\"value\":(_vm.postDeleteData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.postDeleteData=$event.target.value}}}),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.resetChess()}}},[_vm._v(_vm._s(_vm.lang.CHESS_DATA_FORM_CANCEL_BUTTN))])]):_vm._e(),_vm._v(\" \"),(_vm.isEdit)?_c('div',{staticClass:\"chess__forms\"},[_c('div',{ref:\"flat-popup\",staticClass:\"modal-content chess__popup\"},[_c('div',{staticClass:\"modal-header\"},[_c('div',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.lang.CHESS_ADD_FLAT_FORM_TITLE))]),_vm._v(\" \"),_c('a',{staticClass:\"modal-close-btn\",attrs:{\"href\":\"javascript:void(0);\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.preventDefault();_vm.closePopup()}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 357 357\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-close\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"icon-close\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[(_vm.properties)?_c('form',{ref:\"flat-popup-form\",staticClass:\"chess-edit-form\",attrs:{\"action\":\"\"}},[_vm._l((_vm.properties),function(field,fieldCode){return _c('div',{staticClass:\"chess-edit-form__field\",attrs:{\"data-type\":field.type,\"data-code\":fieldCode}},[_c('div',{staticClass:\"chess-edit-form__field-title\"},[_vm._v(_vm._s(field.name)+\": \")]),_vm._v(\" \"),_c('div',{staticClass:\"chess-edit-form__field-values\"},[(field.type === 'list')?_vm._l((field.items),function(fieldItem,fieldIndex){return _c('label',{staticClass:\"field-plan\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.forms.flat.values[fieldCode]),expression:\"forms.flat.values[fieldCode]\"}],staticClass:\"field-plan__input\",attrs:{\"name\":fieldCode,\"type\":\"radio\"},domProps:{\"value\":fieldItem.id,\"checked\":_vm._q(_vm.forms.flat.values[fieldCode],fieldItem.id)},on:{\"change\":function($event){_vm.$set(_vm.forms.flat.values, fieldCode, fieldItem.id)}}}),_vm._v(\" \"),_c('span',{staticClass:\"field-plan__image-wrapper\"},[_c('span',{staticClass:\"field-plan__image\",style:({'background-image': 'url('+fieldItem.image+')'})})]),_vm._v(\" \"),_c('span',{staticClass:\"field-plan__name\"},[_vm._v(_vm._s(fieldItem.name))])])}):(field.type === 'bool')?[_c('label',{staticClass:\"field-checkbox square-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.forms.flat.values[fieldCode]),expression:\"forms.flat.values[fieldCode]\"}],staticClass:\"square-checkbox__input\",attrs:{\"type\":\"checkbox\",\"name\":fieldCode,\"value\":\"Y\"},domProps:{\"checked\":Array.isArray(_vm.forms.flat.values[fieldCode])?_vm._i(_vm.forms.flat.values[fieldCode],\"Y\")>-1:(_vm.forms.flat.values[fieldCode])},on:{\"change\":function($event){var $$a=_vm.forms.flat.values[fieldCode],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"Y\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.forms.flat.values, fieldCode, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.forms.flat.values, fieldCode, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.forms.flat.values, fieldCode, $$c)}}}}),_vm._v(\" \"),_c('span',{staticClass:\"square-checkbox__checkmark\"}),_vm._v(\" \"),_c('span',{staticClass:\"field-checkbox__label\"},[_vm._v(_vm._s(_vm.lang.CHESS_FORM_BOOL_LABEL))])])]:_vm._e()],2)])}),_vm._v(\" \"),_c('div',{staticClass:\"chess-edit-form__footer\"},[_c('a',{staticClass:\"chess-btn _secondary\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.closePopup()}}},[_vm._v(_vm._s(_vm.lang.CHESS_FORM_CANCEL_BUTTON))]),_vm._v(\" \"),_c('button',{staticClass:\"chess-btn _primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();_vm.addFlat()}}},[_vm._v(_vm._s(_vm.lang.CHESS_FORM_SUBMIT_BUTTON))])])],2):_vm._e()])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-button-prev\"},[_c('span',{staticClass:\"icon-arrow_left\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-button-next\"},[_c('span',{staticClass:\"icon-arrow_right\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// build.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dbec1e6ca3ab2ce09eac","export default {\r\n\tname: 'vue-chess',\r\n\tprops: ['items', 'isEdit', 'properties', 'lang'],\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tsections: {},\r\n\t\t\tisShowHover: false,\r\n\t\t\thoveredFlat: {},\r\n\t\t\tisMobile: BX.browser.IsMobile(),\r\n\t\t\tswiper: {},\r\n\t\t\tforms: {\r\n\t\t\t\t'flat': {\r\n\t\t\t\t\t'section': -1,\r\n\t\t\t\t\t'floor': -1,\r\n\t\t\t\t\t'values': {\r\n\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'defaultValues': {\r\n\t\t\t\t\t\t\"active\": true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteData: {\r\n\t\t\t\t'sections': [],\r\n\t\t\t\t'flats': [],\r\n\t\t\t},\r\n\t\t\tready: false,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tmaxSectionFloor: function () {\r\n\t\t\tvar arFloorCount = this.sections.reduce(function (arPreviousValue, section) {\r\n\t\t\t\tif (section.floorsCount) arPreviousValue.push(section.floorsCount);\r\n\t\t\t\treturn arPreviousValue;\r\n\t\t\t}, []);\r\n\t\t\treturn !arFloorCount.length ? 1 : Math.max.apply(null, arFloorCount);\r\n\t\t},\r\n\t\tarSectionFloors: function () {\r\n\t\t\tvar floors = [];\r\n\t\t\tfor (var i = this.maxSectionFloor; i; i--) {\r\n\t\t\t\tfloors.push(i);\r\n\t\t\t}\r\n\t\t\treturn floors;\r\n\t\t},\r\n\t\tpostData: function () {\r\n\t\t\tlet self = this,\r\n\t\t\t\tchangedData = [],\r\n\t\t\t\tflatFields = ['id', 'floor', 'active', 'plan', 'rooms', 'sort'];\r\n\t\t\tthis.sections.forEach(function (section) {\r\n\t\t\t\tlet changedSection = self.cloneData(section);\r\n\t\t\t\tlet changedFlats = changedSection.flats.filter((flat) => !flat.id || flat.changed);\r\n\t\t\t\t\r\n\t\t\t\tlet clearChangedFlats = changedFlats.reduce((previewValue, flat) => {\r\n\t\t\t\t\tlet newFlat = {};\r\n\t\t\t\t\tflatFields.forEach( fieldCode => newFlat[fieldCode] = flat[fieldCode]);\r\n\t\t\t\t\tpreviewValue.push(newFlat);\r\n\t\t\t\t\treturn previewValue;\r\n\t\t\t\t}, []);\r\n\t\t\t\t\r\n\t\t\t\tif (clearChangedFlats.length || section.changed || !changedSection.id) {\r\n\t\t\t\t\tchangedSection.flats = clearChangedFlats;\r\n\t\t\t\t\tchangedData.push(changedSection);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn JSON.stringify(changedData);\r\n\t\t},\r\n\t\tpostDeleteData: function () {\r\n\t\t\treturn JSON.stringify(this.deleteData);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * clone and delete reactive\r\n\t\t */\r\n\t\tcloneData: function (data) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar skipProperties = ['__ob__', 'reactiveGetter', 'reactiveSetter'];\r\n//array\r\n\t\t\tif (Array.isArray(data)) {\r\n\t\t\t\tvar cloneArray = [];\r\n\t\t\t\tdata.forEach(function (dataArrayItem, dataArrayIndex) {\r\n\t\t\t\t\tif (skipProperties.indexOf(dataArrayIndex) > -1) return;\r\n\t\t\t\t\tcloneArray[dataArrayIndex] = self.cloneData(dataArrayItem);\r\n\t\t\t\t});\r\n\t\t\t\treturn cloneArray;\r\n\t\t\t}\r\n//object\r\n\t\t\tif (typeof data === 'object' && data.toString && data.toString() == \"[object Object]\") {\r\n\t\t\t\tvar cloneObject = {};\r\n\t\t\t\tvar dataObjectItemKey;\r\n\t\t\t\tfor (dataObjectItemKey in data) {\r\n\t\t\t\t\tif (skipProperties.indexOf(dataObjectItemKey) > -1) continue;\r\n\t\t\t\t\tcloneObject[dataObjectItemKey] = this.cloneData(data[dataObjectItemKey]);\r\n\t\t\t\t}\r\n\t\t\t\treturn cloneObject;\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t},\r\n\t\taddFlat: function () {\r\n\t\t\tvar vueForm = this.forms.flat,\r\n\t\t\t\tvalues = vueForm.values;\r\n\t\t\t\r\n\t\t\tvar flat = {\r\n\t\t\t\tid: 0,\r\n\t\t\t\trooms: 1,\r\n\t\t\t\tname: 'New flat',\r\n\t\t\t\tactive: !!values.active,\r\n\t\t\t\tfloor: vueForm.floor || 1,\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (values.layout) {\r\n\t\t\t\tvar layout = {};\r\n\t\t\t\tthis.properties.layout.items.forEach(function (layoutIt) {\r\n\t\t\t\t\tif (+layoutIt.id === +values.layout) layout = layoutIt;\r\n\t\t\t\t});\r\n\t\t\t\tif (layout.rooms) flat.rooms = layout.rooms;\r\n\t\t\t\tif (layout.id) flat.plan = +layout.id;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!this.sections[vueForm.section]['floorsCount'])\r\n\t\t\t\tthis.sections[vueForm.section]['floorsCount'] = 1;\r\n\t\t\t\r\n\t\t\tif (!this.sections[vueForm.section]['flats'])\r\n\t\t\t\tthis.sections[vueForm.section]['flats'] = [];\r\n\t\t\t\r\n\t\t\t// ������� ������� ��� ���������� � ���������\r\n\t\t\tflat.sort = this.updateFlatsSortIndex(vueForm.section, flat.floor);\r\n\t\t\t\r\n\t\t\t// ��������� ������ ���������� ������� �� ���������� ������� �� �����\r\n\t\t\t\r\n\t\t\tthis.sections[vueForm.section]['flats'].push(flat);\r\n\t\t\tthis.updateSlider();\r\n\t\t\t\r\n\t\t\tthis.forms.flat.values = this.cloneData(this.forms.flat.defaultValues);\r\n\t\t\t$.magnificPopup.close();\r\n\t\t},\r\n\t\topenAddFlatForm: function (sectionIndex, floorIndex) {\r\n\t\t\tthis.forms.flat.section = sectionIndex;\r\n\t\t\tthis.forms.flat.floor = floorIndex;\r\n\t\t\t$.magnificPopup.open({\r\n\t\t\t\titems: {\r\n\t\t\t\t\tsrc: this.$refs['flat-popup'],\r\n\t\t\t\t},\r\n\t\t\t\tmainClass: 'full-screen-map mfp-with-zoom',\r\n\t\t\t\talignTop: false,\r\n\t\t\t\tshowCloseBtn: false,\r\n\t\t\t\tcloseOnContentClick: false,\r\n\t\t\t});\r\n\t\t},\r\n\t\tclosePopup: function () {\r\n\t\t\t$.magnificPopup.close();\r\n\t\t\tthis.forms.flat.values = {};\r\n\t\t},\r\n\t\taddSection: function (newSection) {\r\n\t\t\tvar newSection = newSection || {\r\n\t\t\t\t\tfloorsCount: 1,\r\n\t\t\t\t\tflats: [],\r\n\t\t\t\t},\r\n\t\t\t\tnextSectionCount = this.sections.length + 1;\r\n\t\t\t\r\n\t\t\tnewSection.name = this.lang.CHESS_SECTION_TITLE + ' ' + (nextSectionCount);\r\n\t\t\tnewSection.id = 0;\r\n\t\t\t\t\r\n\t\t\tthis.sections.push(newSection);\r\n\t\t\tthis.updateSlider(function () {\r\n\t\t\t\tthis.swiper.slideTo(nextSectionCount);\r\n\t\t\t});\r\n\t\t},\r\n\t\tdeleteSection: function (sectionIndex) {\r\n\t\t\tlet section = this.sections[sectionIndex];\r\n\t\t\tlet deletedFlatsId = section['flats'].reduce(function (arDelete, flat) {\r\n\t\t\t\tif(flat.id) arDelete.push(flat.id);\r\n\t\t\t\treturn arDelete;\r\n\t\t\t}, []);\r\n\t\t\tthis.deleteData.flats = this.deleteData.flats.concat(deletedFlatsId);\r\n\t\t\t\r\n\t\t\tif(section.id)\r\n\t\t\t\tthis.deleteData.sections.push(section.id);\r\n\t\t\t\r\n\t\t\tthis.$delete(this.sections, sectionIndex);\r\n\t\t\tthis.updateSlider();\r\n\t\t},\r\n\t\tcloneFloor: function (sectionIndex, floorIndex) {\r\n\t\t\tvar section = this.sections[sectionIndex],\r\n\t\t\t\tflats = this.cloneData(this.getFlats(sectionIndex, floorIndex));\r\n\t\t\t\r\n\t\t\tsection.floorsCount++;\r\n\t\t\t\r\n\t\t\tflats = flats.map(function (flat) {\r\n\t\t\t\tflat.id = 0;\r\n\t\t\t\tflat.editId = 0;\r\n\t\t\t\tflat.floor = section.floorsCount;\r\n\t\t\t\treturn flat;\r\n\t\t\t});\r\n\t\t\tsection.flats = section.flats.concat(flats);\r\n\t\t},\r\n\t\tcloneSection: function (sectionIndex) {\r\n\t\t\tvar newSection = this.cloneData(this.sections[sectionIndex]);\r\n\t\t\tnewSection.flats = newSection.flats.map(function (flat) {\r\n\t\t\t\tflat.id = 0;\r\n\t\t\t\tflat.editId = 0;\r\n\t\t\t\treturn flat;\r\n\t\t\t});\r\n\t\t\tthis.addSection(newSection);\r\n\t\t},\r\n\t\tresetChess: function () {\r\n\t\t\tthis.sections = this.cloneData(this.items);\r\n\t\t\tthis.deleteData.sections = [];\r\n\t\t\tthis.deleteData.flats = [];\r\n\t\t\tthis.updateSlider();\r\n\t\t},\r\n\t\tupdateSlider: function (fn) {\r\n\t\t\tvar fn = fn || function () {\r\n\t\t\t};\r\n\t\t\tthis.$nextTick(function () {\r\n\t\t\t\tthis.swiper.update();\r\n\t\t\t\tfn.call(this);\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * ��� ������� ��������� �� ����� ��������\r\n\t\t * ���������� ���������� � ������� ������ �� ������� � �������\r\n\t\t * �� ������� index*10\r\n\t\t * @return (int) ���������� ���������� ��� ������ ��������\r\n \t\t */\r\n\t\tupdateFlatsSortIndex: function(sectionIndex, floorIndex){\r\n\t\t\tlet floorFlats = this.getSortedFlats(sectionIndex, floorIndex);\r\n\t\t\tfloorFlats.forEach((flat, index) => {\r\n\t\t\t\tlet newSort = (index+1)*10;\r\n\t\t\t\tif (flat.sort !== newSort)\r\n\t\t\t\t\tflat.changed = true;\r\n\t\t\t\tflat.sort = newSort;\r\n\t\t\t});\r\n\t\t\treturn (floorFlats.length+1)*10;\r\n\t\t},\r\n\t\t\r\n\t\tgetSortedFlats: function (sectionIndex, floorIndex) {\r\n\t\t\treturn this.getFlats(sectionIndex, floorIndex).sort((a,b) => {\r\n\t\t\t\tvar sortResult = 0;\r\n\t\t\t\tif (a.sort !== b.sort) {\r\n\t\t\t\t\tsortResult = a.sort > b.sort ? 1 : -1;\r\n\t\t\t\t} else if (a.rooms !== b.rooms) {\r\n\t\t\t\t\tsortResult = a.sort > b.sort ? 1 : -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn sortResult;\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetFlats: function (sectionIndex, floorIndex) {\r\n\t\t\treturn this.sections[sectionIndex]['flats'].filter(function (flat) {\r\n\t\t\t\treturn +flat.floor === +floorIndex;\r\n\t\t\t});\r\n\t\t},\r\n\t\tdeleteFloorFlats: function (sectionIndex, floorIndex) {\r\n\t\t\tvar section = this.sections[sectionIndex];\r\n\t\t\tsection.changed = true;\r\n\t\t\tvar deletedFlatsId = section['flats'].reduce(function (arDelete, flat) {\r\n\t\t\t\tif (flat.floor === floorIndex && flat.id) arDelete.push(flat.id);\r\n\t\t\t\treturn arDelete;\r\n\t\t\t}, []);\r\n\t\t\tthis.deleteData.flats = this.deleteData.flats.concat(deletedFlatsId);\r\n\t\t\t\r\n\t\t\tvar flats = section['flats'].filter(function (flat) {\r\n\t\t\t\treturn flat.floor !== floorIndex;\r\n\t\t\t});\r\n\t\t\tflats = flats.map(function (flat) {\r\n\t\t\t\tif (flat.floor > floorIndex) {\r\n\t\t\t\t\tflat.changed = true;\r\n\t\t\t\t\tflat.floor--;\r\n\t\t\t\t}\r\n\t\t\t\treturn flat;\r\n\t\t\t});\r\n\t\t\tsection['flats'] = flats;\r\n\t\t\tsection.floorsCount--;\r\n\t\t},\r\n\t\tdeleteFlat: function (sectionIndex, flat) {\r\n\t\t\tif (flat.id) this.deleteData.flats.push(flat.id);\r\n\t\t\tvar flatIndex = this.sections[sectionIndex]['flats'].indexOf(flat);\r\n\t\t\tthis.$delete(this.sections[sectionIndex]['flats'], flatIndex);\r\n\t\t},\r\n\t\tchangeSortFlat: function(sectionIndex, floorIndex, flatIndex, changePosition) {\r\n\t\t\tlet floorFlats = this.getSortedFlats(sectionIndex, floorIndex);\r\n\t\t\t\r\n\t\t\tthis.updateFlatsSortIndex(sectionIndex, floorIndex);\r\n\t\t\t\r\n\t\t\tlet flat = floorFlats[flatIndex];\r\n\r\n            flat.changed = true;\r\n\t\t\tif (changePosition > 0) {\r\n\t\t\t\tflat.sort += 10;\r\n\t\t\t\tfloorFlats[flatIndex + 1]['sort'] -= 10;\r\n                floorFlats[flatIndex + 1]['changed'] = true;\r\n\t\t\t} else {\r\n\t\t\t\tflat.sort -= 10;\r\n\t\t\t\tfloorFlats[flatIndex - 1]['sort'] += 10;\r\n                floorFlats[flatIndex - 1]['changed'] = true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated: function () {\r\n\t\tthis.sections = this.cloneData(this.items);\r\n\t\tif (this.properties.layout && this.properties.layout.items && this.properties.layout.items[0])\r\n\t\t\tthis.forms.flat.defaultValues.layout = this.properties.layout.items[0]['id'];\r\n\t},\r\n\tmounted: function () {\r\n\t\tvar self = this;\r\n\t\t\r\n\t\tthis.forms.flat.values = this.cloneData(this.forms.flat.defaultValues);\r\n\t\t\r\n\t\tvar visibleInterval = setInterval(function () {\r\n\t\t\tif (self.$el.offsetParent !== null) {\r\n\t\t\t\tself.swiper.update();\r\n\t\t\t\tself.ready = true;\r\n\t\t\t\tclearInterval(visibleInterval);\r\n\t\t\t}\r\n\t\t}, 100);\r\n\r\n// http://idangero.us/swiper/api/\r\n\t\tthis.swiper = new Swiper('.chess-slider .swiper-container', {\r\n\t\t\twatchOverflow: true,\r\n\t\t\t\r\n\t\t\tsimulateTouch: true,\r\n\t\t\t\r\n\t\t\tfreeMode: true,\r\n\r\n// Navigation arrows\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: '.chess-slider .swiper-button-next',\r\n\t\t\t\tprevEl: '.chess-slider .swiper-button-prev',\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 40,\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t767: {\r\n\t\t\t\t\tspaceBetween: 20\r\n\t\t\t\t},\r\n\t\t\t\t1023: {\r\n\t\t\t\t\tspaceBetween: 30\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\t'touchStart': function () {\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/chess/script.js","import Chess from './chess/chess'\r\n\r\nVue.component('vue-chess', Chess);\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./script.js\"\nimport __vue_script__ from \"!!babel-loader!./script.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b2cd806\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./chess.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/chess/chess.vue\n// module id = 2\n// module chunks = 0","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 3\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"chess\"}},[_c('div',{staticClass:\"p__swiper chess-slider _nav-offset _pagination-top _pagination-hide-nav\",class:{'_ready': _vm.ready},attrs:{\"title\":\" \"}},[_c('div',{staticClass:\"chess-slider__inner\"},[_c('div',{staticClass:\"floors-list _left\"},_vm._l((_vm.arSectionFloors),function(floorIndex){return _c('div',{staticClass:\"floors-list__floor\"},[_c('span',{staticClass:\"foors-list__floor-number\"},[_vm._v(_vm._s(floorIndex))]),_vm._v(\" \"),_c('span',{staticClass:\"foors-list__floor-text\"},[_vm._v(_vm._s(_vm.lang.CITRUS_DEVELOPER_CHESS_FLOOR))])])})),_vm._v(\" \"),_c('div',{staticClass:\"swiper-container\"},[_c('div',{staticClass:\"swiper-wrapper\"},[_vm._l((_vm.sections),function(section,sectionIndex){return (_vm.isEdit || section.flats.length)?_c('div',{staticClass:\"swiper-slide\"},[_c('div',{staticClass:\"chess-section\",attrs:{\"id\":section.editId}},[_c('div',{staticClass:\"chess-section__name\"},[_c('div',{staticClass:\"chess-section__name-text\"},[_vm._v(_vm._s(section.name))]),_vm._v(\" \"),(_vm.isEdit)?_c('div',{staticClass:\"chess-section__edit-links\"},[_c('a',{staticClass:\"chess__section-clone-link\",attrs:{\"href\":\"javascript:void(0);\",\"title\":_vm.lang.CHESS_CLONE_SECTION_LINK_TITLE},on:{\"click\":function($event){_vm.cloneSection(sectionIndex)}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 511.627 511.627\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-copy\"}})])]),_vm._v(\" \"),_c('a',{staticClass:\"chess__section-clone-link\",attrs:{\"href\":\"javascript:void(0);\",\"title\":_vm.lang.CHESS_CLONE_SECTION_DELETE_TITLE},on:{\"click\":function($event){_vm.deleteSection(sectionIndex)}}},[_c('svg',{staticClass:\"svg-icon _trash\",attrs:{\"viewBox\":\"0 0 774.266 774.266\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-trash\"}})])])]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.arSectionFloors),function(floorIndex){return _c('div',{staticClass:\"chess-floor\",class:{\n                                    '_empty': floorIndex > section.floorsCount,\n                                    '_edit': _vm.isEdit,\n                                 }},[(section.floorsCount)?[(_vm.isEdit)?_c('div',{staticClass:\"chess__floor-edit-area\"},[_c('a',{staticClass:\"chess__floor-edit-link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.cloneFloor(sectionIndex, floorIndex)}}},[_c('svg',{staticClass:\"svg-icon chess__floor-edit-link__icon\",attrs:{\"viewBox\":\"0 0 511.627 511.627\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-copy\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"chess__floor-edit-link__title\"},[_vm._v(_vm._s(_vm.lang.CHESS_CLONE_FLOOR_LINK))])]),_vm._v(\" \"),_c('a',{staticClass:\"chess__floor-edit-link _delete\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.deleteFloorFlats(sectionIndex, floorIndex)}}},[_c('svg',{staticClass:\"svg-icon chess__floor-edit-link__icon icon-trash\",attrs:{\"viewBox\":\"0 0 774.266 774.266\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-trash\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"chess__floor-edit-link__title\"},[_vm._v(_vm._s(_vm.lang.CHESS_CLONE_FLOOR_DELETE))])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.getSortedFlats(sectionIndex, floorIndex)),function(flat,flatIndex){return _c('div',{ref:\"flats\",refInFor:true,class:['chess-flat',\n                                            { '_disable': !flat.active },\n                                            { '_new': !flat.id },\n                                            { '_first': !flatIndex },\n                                            { '_last': _vm.getSortedFlats(sectionIndex, floorIndex).length === flatIndex+1 }\n                                        ],attrs:{\"id\":flat.editId}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(flat.rooms)),((+flat.rooms && flat.rooms == +flat.rooms))?[_vm._v(_vm._s(_vm.lang.CHESS_K))]:_vm._e(),_vm._v(\" \"),(flatIndex)?_c('a',{staticClass:\"chess-flat__sort-left\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.changeSortFlat(sectionIndex, floorIndex, flatIndex, -1)}}}):_vm._e(),_vm._v(\" \"),(flatIndex+1 < _vm.getSortedFlats(sectionIndex, floorIndex).length)?_c('a',{staticClass:\"chess-flat__sort-right\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.changeSortFlat(sectionIndex, floorIndex, flatIndex, 1)}}}):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"chess-flat__delete-flat\",attrs:{\"title\":_vm.lang.CHESS_DELETE_FLAT_TITLE,\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){$event.preventDefault();_vm.deleteFlat(sectionIndex, flat)}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 357 357\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-close\"}})])])],2)})]:_vm._e(),_vm._v(\" \"),(_vm.isEdit && (floorIndex <= section.floorsCount ||\n                                     (!section.floorsCount && floorIndex === 1)))?_c('div',{staticClass:\"chess-flat _add-flat-block\"},[_c('a',{staticClass:\"add-flat-link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.openAddFlatForm(sectionIndex, floorIndex);}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-plus\"}})])])]):_vm._e()],2)})],2)]):_vm._e()}),_vm._v(\" \"),(_vm.isEdit)?_c('a',{staticClass:\"swiper-slide add-section-slide\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){$event.preventDefault();_vm.addSection()}}},[_c('span',{staticClass:\"add-section-link__icon\"},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-plus\"}})])]),_vm._v(\" \"),_c('span',{staticClass:\"add-section-link__text\"},[_vm._v(_vm._s(_vm.lang.CHESS_ADD_SECTION_LINK))])]):_vm._e()],2)]),_vm._v(\" \"),_c('div',{staticClass:\"floors-list _right\"},_vm._l((_vm.arSectionFloors),function(floorIndex){return _c('div',{staticClass:\"floors-list__floor\"},[_c('span',{staticClass:\"foors-list__floor-number\"},[_vm._v(_vm._s(floorIndex))]),_vm._v(\" \"),_c('span',{staticClass:\"foors-list__floor-text\"},[_vm._v(_vm._s(_vm.lang.CITRUS_DEVELOPER_CHESS_FLOOR))])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"swiper-pagination swiper-pagination--lines\"}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),(_vm.isEdit)?_c('div',{staticClass:\"chess-data-form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postData),expression:\"postData\"}],attrs:{\"name\":\"chess-edit\",\"type\":\"hidden\"},domProps:{\"value\":(_vm.postData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.postData=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postDeleteData),expression:\"postDeleteData\"}],attrs:{\"name\":\"chess-delete\",\"type\":\"hidden\"},domProps:{\"value\":(_vm.postDeleteData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.postDeleteData=$event.target.value}}}),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.resetChess()}}},[_vm._v(_vm._s(_vm.lang.CHESS_DATA_FORM_CANCEL_BUTTN))])]):_vm._e(),_vm._v(\" \"),(_vm.isEdit)?_c('div',{staticClass:\"chess__forms\"},[_c('div',{ref:\"flat-popup\",staticClass:\"modal-content chess__popup\"},[_c('div',{staticClass:\"modal-header\"},[_c('div',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.lang.CHESS_ADD_FLAT_FORM_TITLE))]),_vm._v(\" \"),_c('a',{staticClass:\"modal-close-btn\",attrs:{\"href\":\"javascript:void(0);\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.preventDefault();_vm.closePopup()}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 357 357\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-close\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"icon-close\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[(_vm.properties)?_c('form',{ref:\"flat-popup-form\",staticClass:\"chess-edit-form\",attrs:{\"action\":\"\"}},[_vm._l((_vm.properties),function(field,fieldCode){return _c('div',{staticClass:\"chess-edit-form__field\",attrs:{\"data-type\":field.type,\"data-code\":fieldCode}},[_c('div',{staticClass:\"chess-edit-form__field-title\"},[_vm._v(_vm._s(field.name)+\": \")]),_vm._v(\" \"),_c('div',{staticClass:\"chess-edit-form__field-values\"},[(field.type === 'list')?_vm._l((field.items),function(fieldItem,fieldIndex){return _c('label',{staticClass:\"field-plan\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.forms.flat.values[fieldCode]),expression:\"forms.flat.values[fieldCode]\"}],staticClass:\"field-plan__input\",attrs:{\"name\":fieldCode,\"type\":\"radio\"},domProps:{\"value\":fieldItem.id,\"checked\":_vm._q(_vm.forms.flat.values[fieldCode],fieldItem.id)},on:{\"change\":function($event){_vm.$set(_vm.forms.flat.values, fieldCode, fieldItem.id)}}}),_vm._v(\" \"),_c('span',{staticClass:\"field-plan__image-wrapper\"},[_c('span',{staticClass:\"field-plan__image\",style:({'background-image': 'url('+fieldItem.image+')'})})]),_vm._v(\" \"),_c('span',{staticClass:\"field-plan__name\"},[_vm._v(_vm._s(fieldItem.name))])])}):(field.type === 'bool')?[_c('label',{staticClass:\"field-checkbox square-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.forms.flat.values[fieldCode]),expression:\"forms.flat.values[fieldCode]\"}],staticClass:\"square-checkbox__input\",attrs:{\"type\":\"checkbox\",\"name\":fieldCode,\"value\":\"Y\"},domProps:{\"checked\":Array.isArray(_vm.forms.flat.values[fieldCode])?_vm._i(_vm.forms.flat.values[fieldCode],\"Y\")>-1:(_vm.forms.flat.values[fieldCode])},on:{\"change\":function($event){var $$a=_vm.forms.flat.values[fieldCode],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"Y\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.forms.flat.values, fieldCode, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.forms.flat.values, fieldCode, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.forms.flat.values, fieldCode, $$c)}}}}),_vm._v(\" \"),_c('span',{staticClass:\"square-checkbox__checkmark\"}),_vm._v(\" \"),_c('span',{staticClass:\"field-checkbox__label\"},[_vm._v(_vm._s(_vm.lang.CHESS_FORM_BOOL_LABEL))])])]:_vm._e()],2)])}),_vm._v(\" \"),_c('div',{staticClass:\"chess-edit-form__footer\"},[_c('a',{staticClass:\"chess-btn _secondary\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.closePopup()}}},[_vm._v(_vm._s(_vm.lang.CHESS_FORM_CANCEL_BUTTON))]),_vm._v(\" \"),_c('button',{staticClass:\"chess-btn _primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();_vm.addFlat()}}},[_vm._v(_vm._s(_vm.lang.CHESS_FORM_SUBMIT_BUTTON))])])],2):_vm._e()])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-button-prev\"},[_c('span',{staticClass:\"icon-arrow_left\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-button-next\"},[_c('span',{staticClass:\"icon-arrow_right\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b2cd806\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/chess/chess.vue\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}